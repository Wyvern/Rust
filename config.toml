[alias]
rr = "run -r"
br = "build -r"
bl = "build --lib -r"

[cargo-new]
vcs = "none" 

[profile.release]
strip=true
#lto=true

[profile.release.build-override]
overflow-checks=false
debug-assertions=false

[unstable]
avoid-dev-deps=true
check-cfg-features=true
panic-abort-tests=true
#build-std = ["core","alloc","std","compiler_builtins","panic_abort"]
#build-std-features = ["panic_immediate_abort","compiler-builtins-mem"]

[build]
rustflags = [
"-Ctarget-feature=-crt-static",
"-Ctarget-cpu=native",
"-Cprefer-dynamic",
"-Crpath",
"-Coverflow-checks=no",
"-Cdebug-assertions=no",
"-Clink-self-contained=no",

"-Ztune-cpu=native",
"-Zno-profiler-runtime",
"-Zfunction-sections=no",
"-Zno-unique-section-names",
"-Znew-llvm-pass-manager=yes",
"-Zthinlto",
"-Zno-generate-arange-section",
"-Zno-leak-check",
"-Zdep-info-omit-d-target",
"-Zborrowck=mir",
"-Zpolonius=yes",
"-Ztrim-diagnostic-paths",


"-Aunused",
"-Anonstandard_style",

#"-Clink-args=-Wl,-z=lazy -Wl,-znorelro",
#"-Ctune-cpu=native",
#"-Cpanic=abort",
#"-Zpanic-in-drop=abort",
#"-Zbuild-std",
]
#target="x86_64-apple-darwin"

[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = ["-Clink-arg=--ld-path=/usr/local/bin/mold"]
